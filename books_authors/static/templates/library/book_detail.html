<div class="row" ng-controller="bookDetailCtrl">
    <div class="col-md-6 col-md-offset-3">
        <h4 class="text-center page-header">{{ book.title }} by <a
                href="/authors/{{ book.author.id }}">{{ book.author.name }}</a></h4>

        <p class="text-center"><strong>Rating: </strong>{{ book.rating }}/5</p>
        <p class="text-center">Annotation</p>

        <p class="text-justify">
            {{ book.annotation }}
        </p>

        <p class="text-center">Genres: <span ng-repeat="genre in book.genre"><a
                href="/genres/{{ genre.id }}">{{ genre.name }}</a><span ng-hide="$last">, </span></span>
        </p>

        <div class="reviews">
            <h5>Reviews:</h5>

            <div ng-repeat="review in book.reviews_on_book" class="panel panel-default">
                <div class="panel-heading">{{ review.written_by.username }} at {{ review.created_at | date }}</div>
                <div class="panel-body">
                    {{ review.text }}
                </div>
            </div>
            <form name="review-form" method="post" action="/test-form/">

                <div class="form-group">
                    <label for="id_review_form">Leave a review:</label>
                    <input id="input-id" type="number" class="rating" min=0 max=5 step=1 data-size="xs"
                           data-glyphicon="false">
                    <textarea id="id_review_form" class="form-control" rows="3"></textarea>
                </div>
                <input type="submit" class="form-control btn btn-primary" value="Submit">
            </form>
        </div>
        <br><br><br><br>
        <!-- Put this div tag to the place, where the Comments block will be -->
        <!--div id="vk_comments"></div>
        <script type="text/javascript">
            VK.Widgets.Comments("vk_comments", {limit: 10, width: "665", attach: "*"});
        </script-->
        <script>
            $(document).ready(function () {
                $("#input-id").rating({
                    showCaption: false,
                    showClear: false
                });
            });
        </script>
    </div>
</div>